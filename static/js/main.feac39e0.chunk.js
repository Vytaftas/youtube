(this.webpackJsonpibm_youtube=this.webpackJsonpibm_youtube||[]).push([[0],{43:function(e,t,s){"use strict";s.r(t);var n=s(1),a=s.n(n),c=s(18),i=s.n(c),r=(s(9),s(19)),l=s(4),o=s(3),u=s(7),m=s.n(u),j=function(e,t){var s="AIzaSyCuq80St7U_8Mso-pg6ig3Bvmh9tlksDPg",a="https://www.googleapis.com/youtube/v3/search?part=snippet&type=video&q=".concat(e,"&key=").concat(s),c=Object(n.useState)([]),i=Object(l.a)(c,2),r=i[0],u=i[1],j=Object(n.useState)([]),d=Object(l.a)(j,2),b=d[0],h=d[1],f=Object(n.useState)(!0),O=Object(l.a)(f,2),p=O[0],g=O[1],v=Object(n.useState)(!1),x=Object(l.a)(v,2),N=x[0],y=x[1],w=Object(n.useState)(!1),k=Object(l.a)(w,2),S=k[0],T=k[1];return Object(n.useEffect)((function(){u([])}),[e]),Object(n.useEffect)((function(){var n;return g(!0),y(!1),m()({method:"GET",url:"".concat(a),params:{q:e,key:s,maxResults:20,pageToken:t},cancelToken:new m.a.CancelToken((function(e){return n=e}))}).then((function(e){u((function(t){return Object(o.a)(new Set([].concat(Object(o.a)(t),Object(o.a)(e.data.items))))})),h([e.data.nextPageToken,e.data.pageInfo.totalResults]),T(e.data.nextPageToken),e.data.nextPageToken0,g(!1)})).catch((function(e){m.a.isCancel(e)||y(!0)})),function(){return n()}}),[e,t]),{loading:p,error:N,videos:r,hasMore:S,info:b}},d=s(0),b=function(){return Object(d.jsx)("div",{className:"main-video-src",children:Object(d.jsx)("iframe",{className:"main-video-src-yt",title:"video",width:"560",height:"315",src:"https://www.youtube.com/embed/YeD_HU4vA0o",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})},h=function(e){var t=e.stuff,s=Object(o.a)(t),n=s[0],a=s[1],c=s[2],i=s[3],r=s[4],l=s[5];return Object(d.jsxs)("div",{className:"main-results-single",children:[Object(d.jsx)("div",{className:"main-results-single-thumbnail",children:Object(d.jsx)("img",{onClick:i,className:"main-results-single-thumbnail-src",src:c,alt:l})}),Object(d.jsxs)("div",{className:"main-results-single-info",children:[Object(d.jsx)("p",{className:"main-results-single-info-title",children:n}),Object(d.jsx)("p",{className:"main-results-single-info-channel",children:a}),Object(d.jsx)("p",{className:"main-results-single-info-views",children:r()})]})]})},f=function(e){var t=e.stuff,s=Object(o.a)(t),n=s[0],a=s[1],c=s[2],i=s[3],r=function(e){document.querySelector(".main-video-src-yt").src="https://www.youtube.com/embed/".concat(e.target.alt)},l=function(){var e=Math.floor(9999999*Math.random()),t=["days","months","years"],s=t[Math.floor(Math.random()*t.length)],n=Math.floor(10*Math.random());return 0===e&&(e=1),0===n&&(n=1),e.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,").replace(".",",")+" views ".concat(n," ").concat(s," ago")};return Object(d.jsxs)("main",{className:"main",children:[Object(d.jsxs)("div",{className:"main-video",children:[Object(d.jsx)(b,{},a.etag),";"]}),Object(d.jsxs)("div",{className:"main-results",children:[a.map((function(e,t){return a.length===t+1?Object(d.jsxs)("div",{ref:n,className:"main-results-single",children:[Object(d.jsx)("div",{className:"main-results-single-thumbnail",children:Object(d.jsx)("img",{onClick:r,className:"main-results-single-thumbnail-src",src:e.snippet.thumbnails.high.url,alt:e.id.videoId})}),Object(d.jsxs)("div",{className:"main-results-single-info",children:[Object(d.jsx)("p",{className:"main-results-single-info-title",children:e.snippet.title}),Object(d.jsx)("p",{className:"main-results-single-info-channel",children:e.snippet.channelTitle}),Object(d.jsx)("p",{className:"main-results-single-info-views",children:l()})]})]}):Object(d.jsx)(h,{stuff:[e.snippet.title,e.snippet.channelTitle,e.snippet.thumbnails.high.url,r,l,e.id.videoId]},e.id.videoId)})),c&&Object(d.jsxs)("div",{className:"main-results-single",children:[Object(d.jsx)("div",{className:"main-results-single-thumbnail",children:Object(d.jsx)("img",{className:"main-results-single-thumbnail-src",src:"https://upload.wikimedia.org/wikipedia/commons/b/b9/Youtube_loading_symbol_1_(wobbly).gif",alt:"Loading"})}),Object(d.jsx)("div",{className:"main-results-single-info",children:Object(d.jsx)("p",{className:"main-results-single-info-title",children:"LOADING"})})]}),i&&Object(d.jsxs)("div",{className:"main-results-single",children:[Object(d.jsx)("div",{className:"main-results-single-thumbnail",children:Object(d.jsx)("img",{className:"main-results-single-thumbnail-src",src:"https://media2.giphy.com/media/TqiwHbFBaZ4ti/giphy.gif?cid=ecf05e47j8fk8uy0zm6jth0bcyynwiam7x349v6vnirn2ufg&rid=giphy.gif\r ",alt:"Error"})}),Object(d.jsx)("div",{className:"main-results-single-info",children:Object(d.jsx)("p",{className:"main-results-single-info-title",children:"ERROR!"})})]})]})]})},O=function(e){var t=e.stuff,s=Object(o.a)(t),n=s[0],a=s[1],c=s[2];return Object(d.jsx)("nav",{className:"nav",children:Object(d.jsxs)("form",{className:"search-form",children:[Object(d.jsx)("input",{onChange:a,value:c,className:"search-form-text",type:"text",placeholder:"Search.."}),Object(d.jsx)("button",{onClick:n,className:"search-form-btn",children:Object(d.jsx)("i",{className:"fas fa-search"})}),Object(d.jsx)("div",{className:"error-popup",children:"Letters and Numbers only, 19 characters or less.."})]})})},p=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),s=t[0],a=t[1],c=Object(n.useState)(""),i=Object(l.a)(c,2),o=i[0],u=i[1],m=Object(n.useState)(""),b=Object(l.a)(m,2),h=b[0],p=b[1],g=j(s,h),v=g.loading,x=g.error,N=g.videos,y=g.hasMore,w=g.info,k=Object(n.useRef)(),S=Object(n.useCallback)((function(e){v||(k.current&&k.current.disconnect(),k.current=new IntersectionObserver((function(e){e[0].isIntersecting&&y&&p(w[0])})),e&&k.current.observe(e))}),[v,y]);return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(O,{stuff:[function(e){e.preventDefault(),function(){if(!new RegExp(/^[a-zA-Z0-9 ]+$/).test(o))return!1;var e,t=Object(r.a)(o.split(" "));try{for(t.s();!(e=t.n()).done;)if(e.value.length>19)return!1}catch(s){t.e(s)}finally{t.f()}return!0}()?(a(o),p("")):function(){var e=document.querySelector(".error-popup");e.classList.add("err"),setTimeout((function(){e.classList.remove("err")}),2e3)}()},function(e){u(e.target.value)},o,N]}),Object(d.jsx)(f,{stuff:[S,N,v,x]})]})};i.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(p,{})}),document.getElementById("root"))},9:function(e,t,s){}},[[43,1,2]]]);
//# sourceMappingURL=main.feac39e0.chunk.js.map